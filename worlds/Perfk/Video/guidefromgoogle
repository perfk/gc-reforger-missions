How to make Reforger missions


This document contains a guide on how to make a simple mission with Reforger Lobby.

While primarily written for the Global Conflicts community, almost everything is applicable to general Reforger Lobby mission making, and can be used by everyone.

If you have any questions about it, you can also DM me (tilw) on Discord.


Content:
Part I: Project Setup	2
Part II: Mission Setup	3
Part III: Mission Design	4
Part IV: End Conditions	5
Part V: Briefing and Markers	6
Part VI: Testing	7
Part VII: Header Creation	8
Part VIII: Publishing	9
Other	10
Additional Resources	11

Part I: Project Setup

Download the Workbench
Arma Reforger does not have an integrated advanced mission editor, so any complex missions are created using the Workbench.
Yes, it is also a powerful modding tool, but we will almost exclusively stick to the World Editor, which is not hard to use.
To download it, enable tools in your Steam Library, then download “Arma Reforger Tools”.

Add existing mods to the Workbench
Since we will be utilizing Reforger Lobby and other mods, you will have to add these mods as Workbench projects, so the Workbench can find them.
To do this, start the Workbench Launcher, click “Add Project'' in the bottom left and select “Scan for Projects''. Browse to and select your Arma Reforger mod folder (by default, that’s Documents/MyGames/ArmaReforger/addons).
The Workbench will now add any mods you downloaded as projects. If you want to use any mods downloaded in the future, this step will have to be repeated.

Set up (or create) a project
Your missions will be shipped as part of a mod, which you first have to set up.

If you are making missions for the GC community, you would contribute them to the existing GC Missions mod - this guide explains how to set up the project.

If you are making missions for a different community, you would likely create your own mod project or use another community-specific method. If you are making your own project, you will have to at least add “Reforger Lobby” (or if you’re using the TilW Mission Framework, Reforger Lobby Community) as a dependency.

Either way, once you’re done, open the project.

Part II: Mission Setup

Create a subworld
In Reforger, a gamemode or mission is created as a subworld of a terrain. A subworld is a world which is loaded on top of its parent world.
To create a subworld, open the World Editor, then search for and load the terrain world you would like to create a mission in - for example Eden.ent or Arland.ent.
Afterwards, Click the “New World” button in the top left and select “Subscene” to create a subworld.
Save the world. At GC, we use this folder structure: ModProject/worlds/AuthorName/MissionName/MissionName.ent

Add essential entities
In Enfusion, entities are placed within layers for the purpose of organization.
A fresh world will only have the “default” layer (side note, you should avoid moving or rename this layer), which we will use for essential gamemode related entities.
In the bottom of the World Editor, you will find the Resource Browser. Search for the following prefabs and drag them into the world:
PerceptionManager.et
PS_GameMode_Lobby.et
You also need an AI World, which contains navmeshes. For example, if you’re making an Everon mission, add the SCR_AIWorld_Eden.et prefab. If there is no special AI world for the terrain (often the case with modded terrains), just use the regular SCR_AIWorld.et prefab.
If you get a long error when dragging in the AI World, just hit enter to ignore it.
Next, configure the AI Worlds components: In the “Hierarchy” window on the left, select the AIWorld entity you just added, then look at the “Object Properties” tab on the right. In the top part, you will find a list of components.
Select the first NavmeshWorldComponent, and in the bottom part, go to “Navmesh Settings”, then “Navmesh Files Config”. Click the dots next to “Navmesh File” and search for your world (e. g. Eden or Arland) and select the GM_ variant (without vehicles or LowRes).
In the second NavmeshWorldComponent, do the same with the GM_Terrain_vehicles navmesh.
For vanilla AI worlds, the third component is already set and does not require manual configuration, but if you are using the base SCR_AIWorld prefab, set it to the lowres navmesh..

Setting ingame weather
On the gamemode entity, find the SCR_TimeAndWeatherHandlerComponent, it will allow you to edit ingame time and weather.
Editor time and weather can be adjusted when clicking the Cloud button in the World Editor Toolbar, this does not affect your mission when in game though.
Part III: Mission Design

Add player group prefabs
To create slots for your mission, you are going to add player groups to the world.
In the top of the Hierarchy window, right click your subworld, select “Create Layer” and name it something like “Players”. Double click the new layer to make it active.
It is possible to create your own custom player groups, but for your first project, it is easier to use existing ones.
Reforger Lobby comes with various player groups for the US and USSR factions. If you are using it as a dependency, GC Units also has various ready-to-use group prefabs, both from Vanilla and RHS factions.
Group prefabs are found in a mods Prefabs/Groups/ folder.
Player groups end with _P.et - if they don’t, they are usually regular AI groups and won’t work as player slots.
Choose some player groups and drag them into the world at a suitable location.

If you want to check if your player groups are working, click the arrow next to the green play button in the top bar, make sure “Play from Camera position” is unchecked, then press the green button itself. This will run the world, hopefully showing you a working Lobby.

Player groups can be given a name in their Object Properties (Custom Name Set attribute).
For group order, you can also add a numerical callsign to groups by adding a PS_GroupCallsignAssigner component to the entity (Add Component button in the bottom of Object Properties if there isn’t one already on the group), selecting it in the top and configuring it below.
The callsigns behind the numbers are already set up in the faction manager by default, just put in the numbers unless you need to change them for something entirely different for some reason.

Add AI group prefabs
Similarly, we are also going to add AI groups to the world.
These are also found in Prefabs/Groups/ folders, but do not end with _P.
For better organization, it is again recommended to create an “AI” layer first.

By default, AI will just remain in its position until they perceive a danger such as nearby gunfire, then enter combat and move towards it.
This makes sense for some AI groups, but usually most of your AI should be assigned a waypoint so they act in more specific ways.
For that, again create a “Waypoints” layer and drag in waypoint prefabs from ArmaReforger/Prefabs/AI/Waypoints. Several types are available, for example Defend waypoints. After dragging the waypoint into the world, rename it (right click in hierarchy, or top right of object properties) to something like “AIWP_Defend_01” so you can later reference it by name. You can also change parameters, most importantly radius.
Finally, go into your AI groups object properties, add an entry to the Static Waypoints array and enter the waypoint entities name.

Add any objects you’d like
Fortifications, vehicles, turrets, you name it - they are found in the Prefabs directory.
By default, these will not be part of the navmesh, but that’s usually no problem.
Freeze zones for TVTs can be added using E_EditorRestrictionZone.
Part IV: End Conditions
There are a few ways in which you can create end conditions, from the TilW Mission Framework, the Scenario Framework (a complex vanilla mission framework which takes more time to properly learn, and is not supported by Reforger Lobby).

But unless you have a good reason not to, I would currently strongly recommend using the TilW Mission Framework, which is quite powerful, allowing you to add objectives and define even complex end conditions with ease.
Requiring zero scripting, it supports several objective types, and even inter-mission events like QRF spawns that trigger based on specified conditions.

A tutorial for it can be found in this separate document.

Part V: Briefing and Markers

Briefing
Create a “Briefing” layer, then drag some EditableMissionDescription prefabs from ReforgerLobby into the world.
In its properties, set Title (e. g. Situation, Mission etc.) and Text Data - click the adjacent three dots to open a small text editor window.
Order will adjust the order in which the entries show up in the list (e. g. Situation=1, Mission=2).

If the mission is a TVT / COTVT, you will need twice the amount of prefabs, and specify faction keys in the Visible For Factions array. Otherwise, you can just check Show For Any Faction.

Unless you check Empty Faction Visibility, the entry will only show up after you slotted a faction.
It is recommended to keep this disabled for the briefing, but add a short “Description” entry (summary, ratio etc.) that will only be visible before slotting.

Markers
The map marker prefab is EditableMarker.et from PSCore, the display settings work in a very similar way to the description prefab.

The marker is selected by specifying an icon imageset, then referencing one of its quads by name.
The prefabs default imageset is icons_mapMarkersUI.
Opening it will show you over 100 different markers, mostly relating to movement.
There are also other imagesets you can choose instead, most notably GroupFlagsOpfor / GroupFlagsBlufor / GroupFlagsIndfor, which have unit symbols.

On the right side of an opened imageset, you can switch to the “Quads” tab, which shows you all the icon names sequentially. Scroll through them until you find the one you want, then copy the name and paste it into the quad name attribute on the prefab.

You can also change size, color or set a hover description.
Don’t forget to configure faction visibility like you did for the briefing prefabs.

AO Limit
The TilW Mission Framework has an easy method for AO limits, more info can be found in its guide under “Other Things”.
Part VI: Testing

There are multiple ways you can test your mission.

Play Mode
Clicking the green Play Button in the World Editor's toolbar will run the current world in Singleplayer.
Make sure the “Play from Camera position” in the options (found when clicking the thing to the right of the button) is not checked, because this bypasses the lobby.
There’s also an option for Full Screen vs. Viewport.

Play Mode + PeerTool
In the Play Mode options, you can also enable “Server Localhost + Peertool”.
This will simulate multiplayer using a listen server (where the server is hosted by a player's game and not dedicated).
You can set up PeerTool under Plugins>Settings>PeerTool.
Set Executable to your main ArmaReforgerSteam.exe installation, then create a Peer Client with -addonsDir "C:\path\to\mods\folder\,D:\path\to\projects\directory\" -addons ThisMod as parameter.
If you click the Play Button with “Server Localhost + Peertool” checked, it will launch both a hosting player and a separate window with the client.
This testing method ensures everything works in Multiplayer and is especially helpful with TVTs - but most COOP functionality can already be tested without Peer Tool.

Dedicated Server Tool
While PeerTool is perfectly fine for the vast majority of Multiplayer testing, listen servers do differ from dedicated servers in the way that dedicated servers do not have a client.
While this is usually not necessary for common mission testing, you could also use the Dedicated Server tool to test things in a dedicated environment.
You can find the tool under Plugins, it is configured in a similar way to PeerTool.
Notable differences are that you have to download the Arma Reforger Server application from Steam and set a DedicatedServerPluginCLI_Server config in the tool that points to your world.
The server can be started using the button in the bottom right, so not via play mode.

Other noteworthy info:
If a client fails to join the server, that is often due to a configuration issue, not necessarily something with the mission. If you’re not sure which it is, try running BIs MpTest.ent world - if it doesn’t work there either, it’s indeed a configuration issue.
General script debugging can be done via printing to the Workbench console (found in the bottom of the main window) or via breakpoints.
Part VII: Header Creation

For your mission/world to show up as a scenario ingame and actually be playable, you have to add a mission header aka. scenario config for that world.

For that, create a Missions folder in your mod project (for GC, create a subfolder with your name in the existing Missions folder). Right click into the folder, and create a Config file, select SCR_MissionHeader as the class, and set its name to your missions name.
Open the newly created config and edit the following parameters:

World
Select the subworld you created for your mission
Name
Mission name including type and player count (min, max)
e. g. COOP (5-13) Gull Bay Guns
Author
Your name
Description
Short mission description
Player Count
Maximum player count (don’t worry about spectator slots, this is overridden by the server config anyway)





Part VIII: Publishing

Your mission is now complete, and you are ready to publish.
If you are creating missions for the GC Community, you would create a GitHub PR.

If you are making missions for another community and want to publish it yourself, here is a detailed guide on how to do so.
As said earlier, you should avoid publishing missions as individual mods and ideally instead have just one mod that contains all your missions.
Other

How do you make a mission with multiple objectives?
Depends on the framework - if you are using the TilW Mission Framework, look into its document.
If you’re not using a framework for some reason and need it scripted manually, it’s usually not very straightforward and may involve a setup where there are multiple independent triggers that can be completed, and then one central script that checks if all of them are completed.

How can I change player group callsigns?
Other than group names, these can not be explicitly set on a group basis, as they are handled by the faction manager.
Go into the groups PS_GroupCallsignAssigner component (add one if there isn’t one), in there you can set company, platoon and squad number, which will be translated to a callsign by the faction manager.
If required, you can also edit the factions Callsign Info in the faction manager (a child of the Reforger Lobby gamemode) to change callsign names.

How can I make AI enter a vehicle?
The TilW Mission Framework has a component that will spawn AI in a pre-placed vehicle, also allowing you to select specific seat types like only the gun.
AI driving is done by assigning a regular waypoint (e. g. move) to a group riding in a vehicle.
 

Additional Resources

Here is a general list of useful resources:
Modding – Arma Reforger - Bohemia Interactive Community
World Editor – Arma Reforger - Bohemia Interactive Community
Script Editor – Arma Reforger - Bohemia Interactive Community
Scripting Tutorials – Arma Reforger - Bohemia Interactive Community
Scripting Guidelines – Arma Reforger - Bohemia Interactive Community
From SQF to Enforce Script – Arma Reforger - Bohemia Interactive Community
TilW Mission Framework
Official RL Manual (not as detailed as this guide, but still helpful)
Reforger Modding FAQ (mostly about general modding and terrain creation, but also has a couple of things that may help with mission making)
#enfusion-mission-makers and #enfusion-scripting channels on ARMA Discord
 You can open existing mods / missions and check how they work
If you have any issues or questions, DM me (Til) on Discord - I’m happy to help.
 
